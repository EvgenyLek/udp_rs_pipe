# UDP RS-485 PIPE

## Описание

Данное приложение предназначено для получения данных с устройства MP-106 через интерфейс RS-485 и записи их в формат pcap через именованный канал. 
Программа отправляет запросы на устройство с заданным интервалом и обрабатывает полученные ответы, 
сохраняя их в формате, совместимом с анализаторами сетевого трафика.

## Использование именованного канала с Wireshark

Именованный канал `\\.\pipe\udp_rs` позволяет просматривать данные в реальном времени с помощью Wireshark. 
Это позволяет анализировать сетевой трафик, поступающий от устройства MP-106.

### Инструкция по использованию с Wireshark

1. Запустите приложение для захвата UDP-пакетов.
2. Запустить Wireshark по одноименному ярлыку.
3. В списке интерфейсов выберите `\\.\pipe\udp_rs`.
4. Нажмите `Start`, чтобы начать захват данных.

## Запуск

### Требования

- Windows с установленной библиотекой Winsock.
- Компилятор C, поддерживающий Windows API.

### Инструкции по запуску

1. Скомпилируйте исходный код с использованием подходящего компилятора C.
2. Запустите приложение с параметрами командной строки:
   - `udp_ip` (опционально): IP-адрес устройства MP-106. По умолчанию: `172.16.1.222`.
   - `udp_port` (опционально): Порт для отправки UDP-запросов. По умолчанию: `49000`.
   - `poll_interval` (опционально): Интервал опроса в миллисекундах. По умолчанию: `37`.

Пример запуска:
```
./udp_packet_capture.exe 172.16.1.222 49000 37
```